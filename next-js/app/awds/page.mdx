import dynamic from "next/dynamic";
import { Suspense } from "react";
import { ComponentWrapper } from "./components/ComponentWrapper";
import { Colors } from "./components/Colors";
import { Footer } from "@components/Footer";
import { Header } from "@components/Header";
import { Greeting } from "@components/Greeting";
import { Message } from "@components/Message";
import { PhotoOfMe } from "@components/PhotoOfMe";
import { Button, ButtonLink } from "@components/Button";
import { ExternalLink } from "@components/ExternalLink";
import { TidbytGif } from "@/app/projects/tidbyt/components/TidbytGif";
import { PostedModified } from "@components/PostedModified";
import NextLink from "next/link";
import { ConcertListItem } from "@music/components/ConcertListItem";
import { ListItem } from "@music/components/ListItem";
import { DidNotPlay } from "@music/components/DidNotPlay";
import { Upcoming } from "@music/components/Upcoming";
import { Filters } from "@music/components/Filters";
import { FilterExamples } from "./components/FilterExamples";
import { VariantWrapper as Variant } from "./components/VariantWrapper";
import {
  sampleConcertWithTitle,
  sampleConcertWithoutTitle,
  sampleConcertWithUpcomingDate,
  sampleGroup,
  sampleSeason,
  sampleSeasonNoConcerts,
  sampleConcertWithTicketUrl,
  sampleConcertWithoutTicketUrl,
} from "./components/sampleData.ts";
import { Breadcrumbs } from "@components/Breadcrumbs";
import BreadcrumbsSlot from "@breadcrumbs/default";
import { IndexPage } from "@music/components/IndexPage";
import { BucketList } from "@music/components/BucketList";
import { PageTitle } from "@music/components/PageTitle";
import { SectionHeading } from "@music/components/SectionHeading";
import { CalendarUrlCopy } from "@music/components/CalendarUrlCopy";
import { AttendActions } from "@music/components/AttendActions";
import VenueMap from "@music/components/VenueMap";

export const metadata = { title: "AWDS" };

export const messageContent = (
  <>
    <p className="mb-4">
      "Andrew Westling Design System" -{" "}
      <em>it's exactly what it says on the box</em>
    </p>
    <p>
      This is just my kitchen sink for testing the local theme on this website.
    </p>
  </>
);

export const demoMessageContent = (
  <>
    <p className="mb-4">
      This is a Message. I use it at the top of page to summarize what the page
      is about.
    </p>
    <p className="mb-4">
      Maybe it's just a response to a shortened attention span, but it's nice to
      have a TL;DR sometimes.
    </p>
    <p>
      Sometimes, these include links to external pages. To include an external
      link, <NextLink href="/">do it like this</NextLink>.
    </p>
  </>
);

# AWDS

<Message>{messageContent}</Message>

---

# Table of Contents

---

# Colors

<Colors />

---

# Core Components

## Footer

Global footer on this website.

<ComponentWrapper>
  <Footer />
</ComponentWrapper>

---

## Greeting

This is the banner at the top of my index page.

<ComponentWrapper>
  <Greeting />
</ComponentWrapper>

---

## Header

Global header on this website.

The breadcrumbs slot is passed to this component as a child.

It falls back to a generic "andrewwestling.com" link if the breadcrumbs slot is not passed.

<ComponentWrapper>
  <Variant label="Fallback">
    <Header/>
  </Variant>
  <Variant label="Normal mode, with breadcrumbs manually passed in">
    <Header>
      <Breadcrumbs path="/awds" crumbs={[{ label: "Home", href: "/", isHome: true }, { label: "A custom breadcrumb", href: "/awds" }]} />
    </Header>
  </Variant>
</ComponentWrapper>

---

## Breadcrumbs

This component provides navigation breadcrumbs showing the current location on the site.

When we're on the home page, it shows a menu instead of breadcrumbs.

<ComponentWrapper>
  <div className="grid gap-4">
    <Variant label="Home page">
      <BreadcrumbsSlot path="/" />
    </Variant>

    <Variant label="Top-level examples">
      <BreadcrumbsSlot path="/projects" />
      <BreadcrumbsSlot path="/projects/media-cube" />
      <BreadcrumbsSlot path="/projects/tidbyt" />
      <BreadcrumbsSlot path="/projects/another-project-without-a-hardcoded-name" />
      <BreadcrumbsSlot path="/resume" />
      <BreadcrumbsSlot path="/music" />
      <BreadcrumbsSlot path="/awds" />
    </Variant>

    <Variant label="Music Library &quot;Index&quot; page examples">
      <BreadcrumbsSlot path="/music/concerts" />
      <BreadcrumbsSlot path="/music/works" />
      <BreadcrumbsSlot path="/music/venues" />
      <BreadcrumbsSlot path="/music/conductors" />
      <BreadcrumbsSlot path="/music/composers" />
      <BreadcrumbsSlot path="/music/groups" />
      <BreadcrumbsSlot path="/music/seasons" />
    </Variant>

    <Variant label="Music Library &quot;Detail&quot; page examples">
      <BreadcrumbsSlot path="/music/concerts/202411171500" />
      <BreadcrumbsSlot path="/music/works/debussy-la-mer" />
      <BreadcrumbsSlot path="/music/venues/brooklyn-museum" />
      <BreadcrumbsSlot path="/music/conductors/barbara-yahr" />
      <BreadcrumbsSlot path="/music/composers/mahler-gustav" />
      <BreadcrumbsSlot path="/music/groups/gvo" />
      <BreadcrumbsSlot path="/music/seasons/2024-2025" />
    </Variant>
  </div>
</ComponentWrapper>

---

## ExternalLink

This component is used to display an external link with an icon.

<ComponentWrapper>
  <ExternalLink href="https://www.google.com">Google</ExternalLink>
</ComponentWrapper>

---

## Message

I use this block at the top of pages to give a TL;DR summary of what you're about to read.

<ComponentWrapper>
  <Message>{demoMessageContent}</Message>
</ComponentWrapper>

---

## PhotoOfMe

This is the photo of me on the index page, and the caption/attribution.

<ComponentWrapper>
  <PhotoOfMe />
</ComponentWrapper>

---

## Buttons

These are buttons, for use wherever a button is needed.

<ComponentWrapper>
  <div className="grid gap-4">
    <Variant label="Primary button">
      <Button>Primary button</Button>
    </Variant>
    <Variant label="Button with icon">
      <Button icon="ðŸš€">Button with icon</Button>
    </Variant>
    <Variant label="ButtonLink">
      <ButtonLink href="/awds">ButtonLink</ButtonLink>
    </Variant>
    <Variant label="ButtonLink external">
      <ButtonLink external href="/awds">ButtonLink external</ButtonLink>
    </Variant>
    <Variant label="ButtonLink external with icon">
      <ButtonLink external href="/awds" icon="ðŸš€">ButtonLink external with icon</ButtonLink>
    </Variant>
  </div>
</ComponentWrapper>

---

## TidbytGif

This is to display a Tidbyt preview gif with the nicer "rounded" appearance from Pixlet's UI.

<ComponentWrapper>
  <TidbytGif src={"/assets/projects/tidbyt/wnyc-name-and-image.gif"} />
</ComponentWrapper>

---

## PostedModified

This is the datestamp at the bottom of project pages.

<ComponentWrapper>
  <PostedModified posted="2021-01-23" modified="2024-02-26" />
</ComponentWrapper>

---

# Music Components

These components are specific to the music section of the website.

## Page Headings

### PageTitle

This component is used for page-level headings (h1). It provides consistent styling for the main title of each page.

<ComponentWrapper>
  <div className="grid gap-4">
    <PageTitle>Example Page Title</PageTitle>
  </div>
</ComponentWrapper>

### SectionHeading

This component is used for section-level headings (h2) within a page. It provides consistent styling for major sections.

<ComponentWrapper>
  <div className="grid gap-4">
    <SectionHeading>Example Section Heading</SectionHeading>
  </div>
</ComponentWrapper>

## List Items

### ConcertListItem

This is used when listing concerts on a page.

It extends the ListItem component, adding badges and a few other things that are specific to concerts.

- Shows the concert title, the group name, and the date
- Falls back to the group name if a concert title isn't available
- Has an optional `expanded` prop that shows the group name and the date

<ComponentWrapper>
  <div className="grid gap-6">
    <Variant label="With Title">
      <ConcertListItem concert={sampleConcertWithTitle} group={sampleGroup} />
    </Variant>

    <Variant label="Without Title">
      <ConcertListItem
        concert={sampleConcertWithoutTitle}
        group={sampleGroup}
      />
    </Variant>

    <Variant label="Without Title, Expanded">
      <ConcertListItem
        concert={sampleConcertWithoutTitle}
        group={sampleGroup}
        expanded
      />
    </Variant>

    <Variant label="With Upcoming Date">
      <ConcertListItem
        concert={sampleConcertWithUpcomingDate}
        group={sampleGroup}
      />
    </Variant>

    <Variant label="With Tickets">
      <ConcertListItem
        concert={sampleConcertWithTitle}
        group={sampleGroup}
        showTickets
      />
    </Variant>

    <Variant label="With Tickets, Expanded">
      <ConcertListItem
        concert={sampleConcertWithTitle}
        group={sampleGroup}
        expanded
        showTickets
      />
    </Variant>
  </div>
</ComponentWrapper>

---

### ListItem

This is a generic list item component used throughout the music section to display various types of data in a consistent format. It shows a title as a link with optional statistics.

<ComponentWrapper>
  <div className="grid gap-4">
    <Variant label="Season Example">
      <ListItem
        title={sampleSeason.title}
        href={`/music/seasons/${sampleSeason.slug}`}
        stats={[
          `${sampleSeason.concertSlugs.length} concerts`,
          `${sampleSeason.workSlugs.length} works`
        ]}
      />
    </Variant>

    <Variant label="Venue Example">
      <ListItem
        title="Carnegie Hall"
        href="/music/venues/carnegie-hall"
        stats={["New York, NY", "15 concerts"]}
      />
    </Variant>

    <Variant label="Composer Example">
      <ListItem
        title="Gustav Mahler"
        href="/music/composers/mahler-gustav"
        stats={["12 works"]}
      />
    </Variant>

    <Variant label="Group Example">
      <ListItem
        title="New York Philharmonic"
        href="/music/groups/ny-phil"
        stats={["New York, NY", "8 concerts"]}
      />
    </Variant>

    <Variant label="Work Example">
      <ListItem
        title="Symphony No. 1 in E Minor"
        href="/music/works/sibelius-symphony-no-1-in-e-minor"
        stats={["by Jean Sibelius"]}
      />
    </Variant>

    <Variant label="Work Example, Bucket List">
      <ListItem
        title="Symphony No. 1 in E Minor"
        href="/music/works/sibelius-symphony-no-1-in-e-minor"
        stats={["by Jean Sibelius"]}
        badges={[<BucketList />]}
      />
    </Variant>

    <Variant label="Work Example, Bucket List, Played">
      <ListItem
        title="Symphony No. 1 in E Minor"
        href="/music/works/sibelius-symphony-no-1-in-e-minor"
        stats={["by Jean Sibelius"]}
        badges={[<BucketList played />]}
      />
    </Variant>
  </div>
</ComponentWrapper>

---

### IndexPage

This is a layout component used for index/listing pages throughout the music section. It displays a title and a list of items using the ListItem component.

If the items have sortable fields, it will display a sort dropdown.

<ComponentWrapper>
  <div className="flex flex-col gap-12">
    <Variant label="Example (no sortable fields)">
      <Suspense>
        <IndexPage
          title="Groups"
          items={[
            {
              slug: "bso",
              title: "Brooklyn Symphony Orchestra",
              href: "/music/groups/bso",
              stats: ["Brooklyn, New York", "12 concerts"],
            },
            {
              slug: "gvo",
              title: "Greenwich Village Orchestra",
              href: "/music/groups/gvo",
              stats: ["Manhattan, New York", "10 concerts"],
            },
          ]}
        />
      </Suspense>
    </Variant>

    <Variant label="Example (with sortable fields)">
      <Suspense>
        <IndexPage
          title="Groups"
          items={[
            {
              slug: "bso",
              title: "Brooklyn Symphony Orchestra",
              href: "/music/groups/bso",
              stats: ["Brooklyn, New York", "12 concerts"],
              sortableFields: {
                concerts: 12,
              },
            },
            {
              slug: "gvo",
              title: "Greenwich Village Orchestra",
              href: "/music/groups/gvo",
              stats: ["Manhattan, New York", "10 concerts"],
              sortableFields: {
                concerts: 10,
              },
            },
          ]}
        />
      </Suspense>
    </Variant>
  </div>
</ComponentWrapper>

---

## Badges

### DidNotPlay

This badge is used to indicate when I didn't play in a particular concert, or it didn't take place as planned.

<ComponentWrapper>
  <DidNotPlay />
</ComponentWrapper>

---

### Upcoming

This badge is used to indicate upcoming concerts.

<ComponentWrapper>
  <Upcoming />
</ComponentWrapper>

---

### BucketList

This badge is used to show if a work is on my musical Bucket List.

It also links to the Bucket List page so you will know to go there and check it out.
<ComponentWrapper>
  <div className="grid gap-4">
    <Variant label="Not played">
      <BucketList />
    </Variant>
    <Variant label="Played">
      <BucketList played />
    </Variant>
  </div>
</ComponentWrapper>

---

## CalendarUrlCopy

This component shows and provides a button to copy the URL of my concert calendar to the clipboard.

<ComponentWrapper>
  <CalendarUrlCopy calendarUrl={'https://andrewwestling.com/music/upcoming.ics'} />
</ComponentWrapper>

---

## AttendActions

This component is used to display actions for attending a concert.

It will not render if the concert date is in the past.

<ComponentWrapper>
  <div className="grid gap-4">
    <Variant label="With upcoming date; without ticket URL">
      <AttendActions concert={sampleConcertWithoutTicketUrl} />
    </Variant>
    <Variant label="With upcoming date; with ticket URL">
      <AttendActions concert={sampleConcertWithTicketUrl} />
    </Variant>
  </div>
</ComponentWrapper>

---

## VenueMap

The VenueMap component displays an interactive map centered on a venue's location. It's used on venue pages to show where venues are located.

<ComponentWrapper>
  <VenueMap
    coordinates="40.765263912243164, -73.97990214578063"
    name="Carnegie Hall"
  />
</ComponentWrapper>

---

## Filters

The Filters component provides a multi-select dropdown for filtering concerts by various criteria.

<ComponentWrapper>
  <Suspense>
    <FilterExamples />
  </Suspense>
</ComponentWrapper>
