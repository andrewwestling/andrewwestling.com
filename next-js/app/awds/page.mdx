import dynamic from "next/dynamic";
import { ComponentWrapper } from "./components/ComponentWrapper";
import { Colors } from "./components/Colors";
import { Footer } from "@components/Footer";
import { Header } from "@components/Header";
import { Greeting } from "@components/Greeting";
import { Message } from "@components/Message";
import { PhotoOfMe } from "@components/PhotoOfMe";
import { Button } from "@components/Button";
import { TidbytGif } from "@/app/projects/tidbyt/components/TidbytGif";
import { PostedModified } from "@components/PostedModified";
import NextLink from "next/link";
import { ConcertListItem } from "@music/components/ConcertListItem";
import { ListItem } from "@music/components/ListItem";
import { DidNotPlay } from "@music/components/DidNotPlay";
import { Upcoming } from "@music/components/Upcoming";
import { Filters } from "@music/components/Filters";
import { FilterExamples } from "./components/FilterExamples";
import {
  sampleConcertWithTitle,
  sampleConcertWithoutTitle,
  sampleGroup,
  sampleSeason,
  sampleSeasonNoConcerts,
} from "./components/sampleData.ts";
import { Breadcrumbs } from "@music/components/Breadcrumbs";
import { Suspense } from "react";
import { IndexPage } from "@music/components/IndexPage";
import { BucketList } from "@music/components/BucketList";
import { PageTitle } from "@music/components/PageTitle";
import { SectionHeading } from "@music/components/SectionHeading";
import { CalendarSubscribePopover } from "@music/components/CalendarSubscribePopover";

export const metadata = { title: "AWDS" };

export const messageContent = (
  <>
    <p className="mb-4">
      "Andrew Westling Design System" -{" "}
      <em>it's exactly what it says on the box</em>
    </p>
    <p>
      This is just my kitchen sink for testing the local theme on this website.
    </p>
  </>
);

export const demoMessageContent = (
  <>
    <p className="mb-4">
      This is a Message. I use it at the top of page to summarize what the page
      is about.
    </p>
    <p className="mb-4">
      Maybe it's just a response to a shortened attention span, but it's nice to
      have a TL;DR sometimes.
    </p>
    <p>
      Sometimes, these include links to external pages. To include an external
      link, <NextLink href="/">do it like this</NextLink>.
    </p>
  </>
);

# AWDS

<Message>{messageContent}</Message>

---

# Table of Contents

---

# Colors

<Colors />

---

# Core Components

## Footer

Global footer on this website.

<ComponentWrapper>
  <Footer />
</ComponentWrapper>

---

## Greeting

This is the banner at the top of my index page.

<ComponentWrapper>
  <Greeting />
</ComponentWrapper>

---

## Header

Global header on this website.

<ComponentWrapper>
  <Header />
</ComponentWrapper>

---

## Message

I use this block at the top of pages to give a TL;DR summary of what you're about to read.

<ComponentWrapper>
  <Message>{demoMessageContent}</Message>
</ComponentWrapper>

---

## PhotoOfMe

This is the photo of me on the index page, and the caption/attribution.

<ComponentWrapper>
  <PhotoOfMe />
</ComponentWrapper>

---

## Buttons

These are buttons, for use wherever a button is needed.

<ComponentWrapper>
  <div className="grid gap-1">
    <Button>Primary button</Button>
  </div>
</ComponentWrapper>

---

## TidbytGif

This is to display a Tidbyt preview gif with the nicer "rounded" appearance from Pixlet's UI.

<ComponentWrapper>
  <TidbytGif src={"/assets/projects/tidbyt/wnyc-name-and-image.gif"} />
</ComponentWrapper>

---

## PostedModified

This is the datestamp at the bottom of project pages.

<ComponentWrapper>
  <PostedModified posted="2021-01-23" modified="2024-02-26" />
</ComponentWrapper>

---

# Music Components

These components are specific to the music section of the website.

## Page Headings

### PageTitle

This component is used for page-level headings (h1). It provides consistent styling for the main title of each page.

<ComponentWrapper>
  <div className="grid gap-4">
    <PageTitle>Example Page Title</PageTitle>
  </div>
</ComponentWrapper>

### SectionHeading

This component is used for section-level headings (h2) within a page. It provides consistent styling for major sections.

<ComponentWrapper>
  <div className="grid gap-4">
    <SectionHeading>Example Section Heading</SectionHeading>
  </div>
</ComponentWrapper>

## List Items

### ConcertListItem

This is used when listing concerts on a page.

- Shows the concert title, the group name, and the date
- Falls back to the group name if a concert title isn't available
- Has an optional `expanded` prop that shows the group name and the date

<ComponentWrapper>
  <div className="grid gap-6">
    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">With Title</label>
      <ConcertListItem concert={sampleConcertWithTitle} group={sampleGroup} />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Without Title</label>
      <ConcertListItem
        concert={sampleConcertWithoutTitle}
        group={sampleGroup}
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Without Title, Expanded</label>
      <ConcertListItem
        concert={sampleConcertWithoutTitle}
        group={sampleGroup}
        expanded
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">With Tickets</label>
      <ConcertListItem
        concert={sampleConcertWithTitle}
        group={sampleGroup}
        showTickets
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">With Tickets, Expanded</label>
      <ConcertListItem
        concert={sampleConcertWithTitle}
        group={sampleGroup}
        expanded
        showTickets
      />
    </div>
  </div>
</ComponentWrapper>

---

### ListItem

This is a generic list item component used throughout the music section to display various types of data in a consistent format. It shows a title as a link with optional statistics.

<ComponentWrapper>
  <div className="grid gap-4">
    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Season Example</label>
      <ListItem
        title={sampleSeason.title}
        href={`/music/seasons/${sampleSeason.slug}`}
        stats={[
          `${sampleSeason.concertSlugs.length} concerts`,
          `${sampleSeason.workSlugs.length} works`
        ]}
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Venue Example</label>
      <ListItem
        title="Carnegie Hall"
        href="/music/venues/carnegie-hall"
        stats={["New York, NY", "15 concerts"]}
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Composer Example</label>
      <ListItem
        title="Gustav Mahler"
        href="/music/composers/mahler-gustav"
        stats={["12 works"]}
      />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Group Example</label>
      <ListItem
        title="New York Philharmonic"
        href="/music/groups/ny-phil"
        stats={["New York, NY", "8 concerts"]}
      />
    </div>
  </div>
</ComponentWrapper>

---

### IndexPage

This is a layout component used for index/listing pages throughout the music section. It displays a title and a list of items using the ListItem component.

If the items have sortable fields, it will display a sort dropdown.

<ComponentWrapper>
  <div className="flex flex-col gap-12">
  <div className="flex flex-col gap-2">
    <label className="text-xs text-muted">Example (no sortable fields)</label>
    <Suspense>
      <IndexPage
        title="Groups"
        items={[
          {
            slug: "bso",
            title: "Brooklyn Symphony Orchestra",
            href: "/music/groups/bso",
            stats: ["Brooklyn, New York", "12 concerts"],
          },
          {
            slug: "gvo",
            title: "Greenwich Village Orchestra",
            href: "/music/groups/gvo",
            stats: ["Manhattan, New York", "10 concerts"],
          },
        ]}
      />
    </Suspense>
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">Example (with sortable fields)</label>
      <Suspense>
        <IndexPage
          title="Groups"
          items={[
            {
              slug: "bso",
              title: "Brooklyn Symphony Orchestra",
              href: "/music/groups/bso",
              stats: ["Brooklyn, New York", "12 concerts"],
              sortableFields: {
                concerts: 12,
              },
            },
            {
              slug: "gvo",
              title: "Greenwich Village Orchestra",
              href: "/music/groups/gvo",
              stats: ["Manhattan, New York", "10 concerts"],
              sortableFields: {
                concerts: 10,
              },
            },
          ]}
        />
      </Suspense>
    </div>
  </div>
</ComponentWrapper>

---

## Badges

### DidNotPlay

This badge is used to indicate when I didn't play in a particular concert, or it didn't take place as planned.

<ComponentWrapper>
  <DidNotPlay />
</ComponentWrapper>

---

### Upcoming

This badge is used to indicate upcoming concerts.

<ComponentWrapper>
  <Upcoming />
</ComponentWrapper>

---

### BucketList

This badge is used to show if a work is on my musical Bucket List.

It also links to the Bucket List page so you will know to go there and check it out.
<ComponentWrapper>
  <BucketList />
</ComponentWrapper>

---

## CalendarSubscribePopover

This component provides a modal interface for subscribing to my concert calendar in various calendar apps.

<ComponentWrapper>
  <CalendarSubscribePopover calendarUrl={'https://andrewwestling.com/music/upcoming.ics'} />
</ComponentWrapper>

---

## VenueMap

export const ClientVenueMap = dynamic(() => import("@music/components/VenueMap"), {
  ssr: false,
});

The VenueMap component displays an interactive map centered on a venue's location. It's used on venue pages to show where venues are located.

<ComponentWrapper>
  <ClientVenueMap
    coordinates="40.765263912243164, -73.97990214578063"
    name="Carnegie Hall"
  />
</ComponentWrapper>

---

## Filters

The Filters component provides a multi-select dropdown for filtering concerts by various criteria.

<ComponentWrapper>
  <Suspense>
    <FilterExamples />
  </Suspense>
</ComponentWrapper>

---

## Breadcrumbs

This component provides navigation breadcrumbs showing the current location in the music section.

<ComponentWrapper>
  <div className="grid gap-4">
    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">"Index" page examples</label>
      <Breadcrumbs path="/music/concerts" />
      <Breadcrumbs path="/music/works" />
      <Breadcrumbs path="/music/venues" />
      <Breadcrumbs path="/music/conductors" />
      <Breadcrumbs path="/music/composers" />
      <Breadcrumbs path="/music/groups" />
      <Breadcrumbs path="/music/seasons" />
    </div>

    <div className="flex flex-col gap-2">
      <label className="text-xs text-muted">"Detail" page examples</label>
      <Breadcrumbs path="/music/concerts/202411171500" />
      <Breadcrumbs path="/music/works/debussy-la-mer" />
      <Breadcrumbs path="/music/venues/brooklyn-museum" />
      <Breadcrumbs path="/music/conductors/barbara-yahr" />
      <Breadcrumbs path="/music/composers/mahler-gustav" />
      <Breadcrumbs path="/music/groups/gvo" />
      <Breadcrumbs path="/music/seasons/2024-2025" />
    </div>
  </div>
</ComponentWrapper>
